options.floating = false;
urdf = [getDrakePath(),'/examples/Acrobot/Acrobot.urdf'];
r = RigidBodyManipulator(urdf,options);
nT = 3;
t_seed = linspace(0,1,nT);
nQ = r.getNumPositions();
nU = r.getNumInputs();
x0 = zeros(2*nQ,1);
q_nom_traj = PPTrajectory(foh(t_seed,rand(nQ,nT)));
x_nom_traj = PPTrajectory(foh(t_seed,[q_nom_traj.eval(t_seed);zeros(nQ,nT)]));
x_nom_traj = x_nom_traj.setOutputFrame(r.getStateFrame());
traj_init.x = x_nom_traj;
traj_init.u = PPTrajectory(foh(t_seed,rand(nU,nT)));
planner = DummyDynamicsFullKinematicsPlanner(r,t_seed,q_nom_traj,true,x0);
[xtraj,utraj] = solveTraj(planner,t_seed,traj_init);
v = r.constructVisualizer();
v.playback(x_nom_traj);
v.playback(xtraj);
